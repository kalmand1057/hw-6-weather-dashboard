<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Bootstrap-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <!--JS-->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

    <!--Google Fonts-->
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&display=swap" rel="stylesheet">

    <!--CSS Stylesheet-->
    <link rel="stylesheet" href="style.css">

    <title>Weather Dashboard</title>
</head>


<body>
    <!--Header-->
    <header class="title"><h1>Weather Dashboard</h1></header>
    <!--Aside-->
    <div class="container">
        <div class="row">
            <!--Can click on city in search history-->
            <!--When clicked, can AGAIN pull up Today's Forecast and 5 Day Forecast from search history-->
            <!--Have search history persist. Make sure that when you close out, once you pull it back up the search history stays-->
            <div class="col-3" id="search">
                <h3>Search for a City</h3>
                <form id="city-form">
                    <label for="city-input"></label>
                    <input type="text" id="city-input"><br>
                    <!-- Button trigger -->
                    <input id="add-movie" type="submit" value="Search">
                </form>
            </div>
            <!--main-->
            <main class="col-9" id="weather">
                <div class="row" id="today"><h3>Today's Forecast</h3>
                    <div class="city"></div>
                    <div class="temp"></div>
                    <div class="humidity"></div>
                    <div class="wind"></div>
                    <div class="index"></div>
                </div>
                <div class="row" id="forecast">
                    <div class="col">
                        <div class="row"><h3>5 Day Forecast</h3></div>
                        <div class="row">
                            <!--each card will have Date, Icon representation, Temperature, Humidity-->
                            <div class="col border border-dark">col</div>
                            <div class="col border border-dark">col</div>
                            <div class="col border border-dark">col</div>
                            <div class="col border border-dark">col</div>
                            <div class="col border border-dark">col</div>
                    </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript">
    //1. Search for a city
          //Use Activity 9!
    //2.Today's Forecast
        var APIKey = "166a433c57516f51dfab1f7edaed8413";
        //need a var for the city chosen
        var queryURL = "https://api.openweathermap.org/data/2.5/weather?" + "q=Bujumbura,Burundi&appid=" + APIKey;

        //need a var for today's date in city div

        //need icon as well for city div

        //run AJAX to call OpenWeatherMap API
        $.ajax({
            url: queryURL,
            method: "GET"
        })

        //Store all retrieved data inside object called response

        .then(function(respone) {
            //Log the queryURL
            console.log(queryURL);

            //Log resulting object
            console.log(respone);

            //Transfering content to HTMl
            $(".city").html("<h1>" + response.name + "Also need date" + response.icon);
            $(".temp").text("Temperature(F):" + tempF.toFixed(2));
            $(".humidity").text("Humidity:" + response.main.humidity);
            $(".wind").text("Wind Speed:" + response.wind.speed);
            //NEED TO GET UV INDEX

            //Temperature IN FARENHEIT
            var tempF = (response.main.temp - 273.15) * 1.80 + 32;
            //maybe need to add temp content to html?

            //Log the data in the console as well
            console.log("Temperature (F):" + tempF);
            console.log("Humidity:" + response.main.humidity);
            console.log("Wind Speed:" + response.wind.speed);
            //ALSO GET UV INDEX

            //UV Index number is in a color that indicates whether it is favorable, moderate or severe
        })

    //3. Five Day Forecast
</script>
</body>
</html>